<article class="mx-auto max-w-[380px] md:max-w-[520px] rounded-xl bg-white p-3 shadow-sm border border-neutral-200">
  <!-- Botón del encabezado: año + título -->
  <button
    type="button"
    class="flex w-full items-center justify-between gap-2 text-left"
    [attr.aria-expanded]="expanded"
    (click)="toggle()"
  >
    <card-header [year]="year" [title]="title"></card-header>
    <span class="text-red-600 transition-transform duration-300"
          [ngClass]="expanded ? 'rotate-180' : 'rotate-0'">▾</span>
  </button>

  <!-- Panel desplegable: imagen + texto -->
  <div class="overflow-hidden transition-all duration-300"
       [ngClass]="expanded ? 'max-h-[500px] mt-2' : 'max-h-0'">
    <div class="grid grid-cols-12 items-start gap-3">
      <!-- imagen -->
      <div class="col-span-5" [ngClass]="{ 'order-2': imageSide==='right', 'order-1': imageSide==='left' }">
        <card-img [color]="placeholderColor"></card-img>
      </div>
      <!-- texto -->
      <div class="col-span-7" [ngClass]="{ 'order-1': imageSide==='right', 'order-2': imageSide==='left' }">
        <card-text [text]="text"></card-text>
      </div>
    </div>
  </div>
</article>
