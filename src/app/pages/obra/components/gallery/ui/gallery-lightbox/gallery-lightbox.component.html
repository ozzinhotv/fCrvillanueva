<div *ngIf="visible" class="fixed inset-0 z-[9999]">
  <div class="absolute inset-0 bg-black/70" (click)="close()"></div>
  <div class="relative w-full h-full flex items-center justify-center p-4">
    <div class="relative max-w-6xl w-full max-h-[90vh] bg-black rounded-lg overflow-hidden">
      <button type="button"
              class="absolute top-3 right-3 z-10 rounded-md bg-white/10 px-3 py-1.5
                     text-white hover:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white/50"
              (click)="close()" aria-label="Close">âœ•</button>
      <button type="button"
              class="absolute left-3 top-1/2 -translate-y-1/2 z-10
                     rounded-full p-2 bg-white/10 text-white hover:bg-white/20
                     focus:outline-none focus:ring-2 focus:ring-white/50"
              (click)="prev.emit()" aria-label="Previous image">
        <icon-chevron-left [size]="32"></icon-chevron-left>
      </button>
      <button type="button"
              class="absolute right-3 top-1/2 -translate-y-1/2 z-10
                     rounded-full p-2 bg-white/10 text-white hover:bg-white/20
                     focus:outline-none focus:ring-2 focus:ring-white/50"
              (click)="next.emit()" aria-label="Next image">
        <icon-chevron-right [size]="32"></icon-chevron-right>
      </button>
      <div class="w-full h-full flex items-center justify-center">
        <ng-container *ngIf="item as it">
          <img *ngIf="it.src; else noImg"
               [src]="it.src"
               [alt]="it.title || 'Image'"
               class="max-h-[85vh] w-auto object-contain" />
          <ng-template #noImg>
            <div class="w-[85vw] max-w-4xl aspect-[4/3] rounded-lg overflow-hidden">
              <div class="w-full h-full" [ngClass]="placeholderClass(it)"></div>
            </div>
          </ng-template>
        </ng-container>
      </div>
    </div>
  </div>
</div>
