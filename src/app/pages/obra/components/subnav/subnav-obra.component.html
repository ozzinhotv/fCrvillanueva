<nav
  class="group mt-4
         rounded-xl  text-white border border-white/10
           bg-neutral-900/30 backdrop-blur-md shadow-lg shadow-black/10
         w-full md:container md:mx-auto md:px-4
         max-md:w-[92%] max-md:max-w-sm max-md:mx-auto">
  <div class="flex items-center justify-between px-3 py-3">
    <div class="text-sm md:text-base font-medium text-white/95 truncate">
      {{ categoryLabel() }} / <span class="text-white/80">{{ currentWorkLabel() }}</span>
    </div>
    <button
      type="button"
      class="md:hidden inline-flex items-center justify-center rounded-lg p-2
             bg-white/10 hover:bg-white/15 focus:outline-none focus:ring-2 focus:ring-white/30
             transition"
      [attr.aria-expanded]="isOpen()"
      aria-controls="obra-subnav-panel-mobile"
      (click)="toggle()">
      <svg class="h-5 w-5 transition-transform duration-200"
           [class.rotate-180]="isOpen()"
           viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
        <path fill-rule="evenodd"
              d="M5.23 7.21a.75.75 0 011.06.02L10 11.19l3.71-3.96a.75.75 0 111.08 1.04l-4.24 4.52a.75.75 0 01-1.08 0L5.21 8.27a.75.75 0 01.02-1.06z"
              clip-rule="evenodd"/>
      </svg>
      <span class="sr-only">Mostrar obras de {{ categoryLabel() }}</span>
    </button>
  </div>
  <div
    id="obra-subnav-panel-mobile"
    class="md:hidden overflow-hidden border-t border-white/10
           transition-all duration-300 ease-out"
    [ngClass]="isOpen()
      ? 'max-h-80 opacity-100 translate-y-0'
      : 'max-h-0 opacity-0 -translate-y-1'">
    <div class="px-3 pb-4 pt-2">
      <ul class="flex flex-col gap-1">
        <li *ngFor="let w of works()">
          <a [routerLink]="['/obra', cat(), w.slug]"
             [class]="
               'block rounded-lg px-3 py-2 text-sm text-center transition ' +
               (w.slug === work()
                 ? 'bg-white/25 text-white ring-1 ring-white/40'
                 : 'bg-white/10 hover:bg-white/20 text-white/90')
             ">
            {{ w.title }}
          </a>
        </li>
      </ul>
    </div>
  </div>
  <div
    class="hidden md:block overflow-hidden border-t border-white/10
           max-h-0 opacity-0 -translate-y-1
           transition-all duration-300 ease-out origin-top
           group-hover:max-h-64 group-hover:opacity-100 group-hover:translate-y-0">
    <div class="px-3 pb-4 pt-2">
      <div
        class="flex items-center gap-2 overflow-x-auto
               scrollbar-thin scrollbar-thumb-white/20 scrollbar-track-transparent">
        <a *ngFor="let w of works()"
           [routerLink]="['/obra', cat(), w.slug]"
           [class]="
             'whitespace-nowrap rounded-lg px-3 py-2 text-sm transition ' +
             (w.slug === work()
               ? 'bg-white/20 text-white ring-1 ring-white/40'
               : 'bg-white/5 hover:bg-white/15 text-white/90')
           ">
          {{ w.title }}
        </a>
      </div>
    </div>
  </div>
</nav>
